# Типы отношений 

## Виды связей 
+ **Один к одному**
    + С обязательной связью 
    + С необязательной связью
+ **Один ко многим** 
    + С обязательной связью 
    + С необязательной связью
+ **Многие ко многим**

### Многие ко многим
Представим, что нам нужно написать БД, которая будет хранить работником IT-компании. При этом существует некий стандартный набор должностей. При этом:
+ Работник может иметь одну и более должностей. Например, некий работник может быть и админом, и программистом.
+ Должность может «владеть» одним и более работников. Например, админами является определенный набор работников. Другими словами, к админам относятся некие работники.

Как видно, обе эти таблицы связаны между собой по правилу **многие ко многим**: каждому работнику соответствует одна и больше должностей (многие должности), каждой должности соответствует один и больше работников (многие работники).

Имея две таблицы **Employees** и **Jobs** составим третью таблицы отвечающую за выше сказанное отношение

|employee_id|job_id| 
|-|-|
|1|1|
|2|1|
|2|2|
|3|2|

Здесь заметим что:
+ Второй сотрудник может иметь две должности
+ Вторая должность может иметь разных сотрудников

### Один ко многим

Предположим, нам нужно реализовать некую БД, которая ведет учет данных о пользователях. У пользователя есть: имя, фамилия, возраст, номера телефонов. При этом у каждого пользователя может быть от одного и больше номеров телефонов (многие номера телефонов).

В этом случае мы наблюдаем следующее: пользователь может иметь многие номера телефонов, но нельзя сказать, что номеру телефона принадлежит определенный пользователь.

Данное отношения не трубет **таблицы-посредника**, как в отношении **Многие ко многим**:

|phone_id|person_id|
|-|-|
|1|12|
|2|12|
|3|4|
|4|5|
|5|5|

Заметим, что номера добавляються в таблицу по принципу **auto_increment**, и не могут повторяться.

### Один к одному 

Предположи, у вас есть таблица сотрудников, и вам пригодилось помечать их, что являются ли сотрудник инвалидом или нет. Так как инвалидность у сотрудников встречаеться очень редко, оптимизируем, и приведем связь **Один к одному**.

Создадим таблицу **DisabledEmployee**, назначим **auto_increment** для ключа, а вторая и последняя таблица хранит уникальные значения(внешние ключи к номерам сотрудников):

|disabled_id|employee_id|
|-|-|
|1|120|
|2|33|
|3|91|
|4|200|